# These two additional packages are required for snap to be able to run without 
# warnings
- name: Install snapd, selinux-utils, and default policies
  apt:
    pkg:
      - snapd
      - selinux-utils
      - selinux-policy-default
      - fuse
      - squashfuse
    update_cache: yes
- name: Install neovim SNAP
  snap:
    name: neovim
    state: present
    classic: true
- name: Install AstroNvim and user configs
  become: false
  block:
    - name: Create .config folder
      become: no
      ansible.builtin.file:
        path: /home/xander/.config
        state: directory
        mode: '0750'
    - name: Install AstroVim git repo
      git:
        repo: 'https://github.com/AstroNvim/AstroNvim'
        dest: /home/xander/.config/nvim
    - name: Copy nvim user configs
      copy:
        src: files/nvim-user-config/
        dest: /home/xander/.config/nvim/lua/user/
